---
import {init, send, sendForm} from "@emailjs/browser";
import Layout from '../layouts/Layout.astro';
import Card from "../components/Card.astro";
import Modal from '../components/Modal.astro';

import Bodycombat from './Bodycombat.astro';
import DaniEvan from './DaniEvan.astro';
import BrokenEchoes from "./BrokenEchoes.astro";
import Hitchhiker from "./Hitchhiker.astro";
import Pinzo from "./Pinzo.astro";

import Minicard from "../components/Minicard.astro";
import RandomFact from '../components/RandomFact';

const pageTitle = "Ismael Moyano";

---
<script>
    const video = document.querySelector("video");
    let playState = null;

    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (!entry.isIntersecting) {
                video.pause();
                playState = false;
            } else {
                video.play();
                playState = true;
            }
        });
    }, {});

    observer.observe(video);

    const onVisibilityChange = () => {
        if (document.hidden || !playState) {
            video.pause();
        } else {
            video.play();
        }
    };

    document.addEventListener("visibilitychange", onVisibilityChange);
</script>

<style>
    @import "../styles/global.css";
</style>

<Layout pageTitle={pageTitle}>
    
    <div id="intro" class="intro">
        <div class="topimg">
            <h1 style="font-size: 3em; margin: 10px 0 10px 0;">Ismael Moyano</h1>

            <small class="subtitle" style="background-color: #4d8878">Game Developer</small>
            
            <br/>
            
            <img width="250" height="auto" alt="Ismael" class="round-borders" src="/ismael.png"/>

            <center>
                <div class="bio">
                    <p>
                        ‚ú® <b>Hi! I'm Ismael and I like to develop <nobr>cool games.</nobr></b>
                    </p>
                    <p>
                        üìö These are my past projects, both professional and personal.
                    </p>
                    <p>
                        ‚úâÔ∏è Feel free to get in touch about anything!
                    </p>
                </div>
            </center>

            <p class="social">
                <a href="https://www.linkedin.com/in/yasmacif/" target="_blank" rel="noopener noreferrer">
                    <img width="auto" height="40" alt="LinkedIn" style="outline: 0;" src="/linkedin_logo.png"/>
                </a>
                <a href="https://yasma.itch.io/" target="_blank" rel="noopener noreferrer">
                    <img width="auto" height="40" alt="itch.io" style="outline: 0;" src="/itchio_logo.png"/>
                </a>
                <a href="mailto:yasma.cif@gmail.com" target="_blank" rel="noopener noreferrer">
                    <img width="auto" height="40" alt="Mail" style="outline: 0;" src="/mail_logo.png"/>
                </a>
            </p>
            <br>
            <div class="button">
                <a href="https://drive.google.com/file/d/1lEI_h615TqJGu7k7D_SNd2qcfDp0xMHJ/view" target="_blank" rel="noopener noreferrer">
                    <button class="resume-button">My resume</button>
                </a>
            </div>
            <br>
        </div>

        
    </div>

    <div id="projects" class="projects">

        <div class="link-card-grid">
            <Card
                    card_id="bodycombat"
                    image="/bodycombat/bodycombat.png"
                    title="Les Mills Bodycombat"
                    body="An intense VR fitness game with challenging stages. The coaches will make you sweat!"
            >
                <small class="tag" style="background-color: rgba(255,96,66,0.57)">Fitness </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(255,79,247,0.57)">VR </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(49, 52, 203, 0.57)">Meta Quest </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(111,239,88,0.57)">Live Service </small>

            </Card>
            <Card
                    card_id="danievan"
                    image="/danievan/danievan.png"
                    title="Dani & Evan: Dinosaur Books"
                    body="A dinotastic interactive book, with exploration, minigames and collectables."
            >
                <small class="tag" style="background-color: rgba(255,96,66,0.57)">Visual Novel </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(255,79,247,0.57)">Mobile </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(255,79,247,0.57)">Nintendo Switch </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(111,239,88,0.57)">Released </small>

            </Card>
            <Card
                    card_id="brokenechoes"
                    image="/brokenechoes/brokenechoes.png"
                    title="Broken Echoes"
                    body="An action/adventure game with thrilling combat, cinematic cutscenes and cool music."
            >

                <small class="tag" style="background-color: rgba(255,96,66,0.57)">Action/Adventure </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(255,79,247,0.57)">PC </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(111,239,88,0.57)">Indie </small>

            </Card>
            <Card
                    card_id="hitchhiker"
                    image="/hitchhiker/hitchhiker.png"
                    title="The Vanishing Hitchhiker"
                    body="A spooky visual novel with choices and multiple endings, for the Nintendo Switch."
            >

                <small class="tag" style="background-color: rgba(255,96,66,0.57)">Visual Novel </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(255,79,247,0.57)">Nintendo Switch </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(111,239,88,0.57)">Released </small>

            </Card>
            <Card
                    card_id="pinzo"
                    image="/pinzo/pinzo.png"
                    title="Pinzo's Smoothie Stand"
                    body="A narrative puzzle game with 2.5D graphics, smoothies and talking sea creatures."
            >

                <small class="tag" style="background-color: rgba(255,96,66,0.57)">Puzzle </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(255,79,247,0.57)">PC </small>
                &nbsp;
                <small class="tag" style="background-color: rgba(111,239,88,0.57)">In Development </small>

            </Card>
        </div>

        <div style="margin-top: 100px; text-align: center;">
            <ul role="list" class="link-minicard-grid">

                <Minicard
                        card_id="remember"
                        image="/itchio/remember.png"
                        title="Remember"
                        href="https://leamsy.itch.io/remember"
                >
                </Minicard>
                <Minicard
                        card_id="tower_sins"
                        image="/itchio/tower_sins.png"
                        title="Tower of Sins"
                        href="https://leamsy.itch.io/tower-of-sins"
                >
                </Minicard>
                <Minicard
                        card_id="ratita"
                        image="/itchio/ratita.png"
                        title="ratitajumper_final_final"
                        href="https://leamsy.itch.io/ratitajumper-final-final-ahorasiquesi"
                >
                </Minicard>
                <Minicard
                        card_id="innerself"
                        image="/itchio/innerself.png"
                        title="Innerself"
                        href="https://leamsy.itch.io/innerselves"
                >
                </Minicard>
                <Minicard
                        card_id="mecabeat"
                        image="/itchio/mecabeat.png"
                        title="Mecabeat"
                        href="https://leamsy.itch.io/mecabeat"
                >
                </Minicard>
            </ul>
        </div>
    </div>

    <div class="about">
        <h3 style="margin-bottom: -10px; margin-top: -40px;">But just who is this Ismael fellow?</h3>
        <h2>‚ú® Here's a random fact about me! ‚ú®</h2>

        <RandomFact client:load messages={[
            "My first game development engine was GameMaker. My second was Wario Ware: DIY.",
            "I'm always in some sort of idle dance, Cuphead-style.",
            "Someone threw a duck over our fence once, so we adopted it for a couple of months. Its name was Colorines.",
            "I can't stand wedge cheese.",
            "Two of my favorite game franchises are Dark Souls and Kirby. Opposites touch.",
            "People say I have the softest cheeks they have ever seen. I agree.",
            "I use bananas way too much as an ingredient when cooking.",
            "Some of my favorite Pok√©mon are Porygon2, Rotom and Whimsicott.",
            "Approximately 90% of my daily music listening is comprised of game soundtracks.",
        ]} />
        
    </div>

    <Bodycombat/>
    
    <DaniEvan/>

    <BrokenEchoes/>

    <Hitchhiker/>
    
    <Pinzo/>
    
</Layout>
